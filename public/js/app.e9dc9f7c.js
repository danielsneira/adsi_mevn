(function(t){function e(e){for(var o,n,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},i={app:0},s=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3d1b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),i=a("bc3a"),s=a.n(i),n=a("2106"),r=a.n(n),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-item",{attrs:{to:"/",replace:"",link:""}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Home")])],1)],1),a("v-divider"),"ADMIN_ROL"===this.$store.state.rol||"ALMACENISTA_ROL"==this.$store.state.rol?a("v-list-group",{attrs:{value:!1,"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Almacen")])],1)]},proxy:!0}],null,!1,2320308321)},t._l(t.Almacen,(function(e,o){var i=e[0],s=e[1],n=e[2];return a("v-list-item",{key:o,attrs:{href:n,link:""}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(s)}})],1),a("router-link",{attrs:{to:n,replace:""},domProps:{textContent:t._s(i)}})],1)})),1):t._e(),"ADMIN_ROL"===this.$store.state.rol||"ALMACENISTA_ROL"==this.$store.state.rol?a("v-list-group",{attrs:{value:!1,"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Compras")])],1)]},proxy:!0}],null,!1,2048388409)},t._l(t.Compras,(function(e,o){var i=e[0],s=e[1],n=e[2];return a("v-list-item",{key:o,attrs:{href:n,link:""}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(s)}})],1),a("router-link",{attrs:{to:n,replace:""},domProps:{textContent:t._s(i)}})],1)})),1):t._e(),"ADMIN_ROL"===this.$store.state.rol||"VENDEDOR_ROL"===this.$store.state.rol?a("v-list-group",{attrs:{value:!1,"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Ventas")])],1)]},proxy:!0}],null,!1,1992046867)},t._l(t.Ventas,(function(e,o){var i=e[0],s=e[1],n=e[2];return a("v-list-item",{key:o,attrs:{href:n,link:""}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(s)}})],1),a("router-link",{attrs:{to:n,replace:""},domProps:{textContent:t._s(i)}})],1)})),1):t._e(),"ADMIN_ROL"===this.$store.state.rol?a("v-list-group",{attrs:{value:!1,"no-action":"","sub-group":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Accesos")])],1)]},proxy:!0}],null,!1,4093318851)},t._l(t.Accesos,(function(e,o){var i=e[0],s=e[1],n=e[2];return a("v-list-item",{key:o,attrs:{href:n,replace:"",link:""}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s(s)}})],1),a("router-link",{attrs:{to:n,replace:""},domProps:{textContent:t._s(i)}})],1)})),1):t._e()],1)],1),a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",[t._v(t._s(this.$router.currentRoute.name))]),a("v-spacer"),a("v-btn",{attrs:{to:"/login",replace:"",text:""},on:{click:t.logout}},[a("v-icon",[t._v("mdi-logout")]),a("span",{staticClass:"mr-2"},[t._v("Logout")])],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-footer",{attrs:{color:"primary",absolute:"",app:"",dark:""}},[a("v-row",{attrs:{justify:"center","no-gutters":""}},[t._v("DSN©2021")])],1)],1)},c=[],d=(a("b0c0"),{data:function(){return{drawer:null,Almacen:[["Articulos","mdi-cart","/articulos"],["Categorias","mdi-sitemap","/categorias"]],Compras:[["Ingresos","mdi-store-plus","/ingresos"],["Proveedores","mdi-account-tie","/proveedores"]],Ventas:[["Ventas","mdi-store-plus","/ventas"],["Clientes","mdi-account-star","/clientes"]],Accesos:[["Usuarios","mdi-account-supervisor","/usuarios"]],Consultas:[["Compras","mdi-cart","/consulta-compras"],["Ventas","mdi-cart","/consulta-ventas"]]}},created:function(){this.checkToken()},methods:{logout:function(){sessionStorage.clear()},checkToken:function(){this.$store.state.token||"Login"===this.$router.currentRoute.name||this.$router.push("Login")}}}),u=d,m=(a("7749"),a("2877")),v=a("6544"),p=a.n(v),f=a("7496"),h=a("40dc"),b=a("5bc1"),I=a("8336"),x=a("a523"),k=a("ce7e"),g=a("553a"),_=a("132d"),C=a("8860"),V=a("56b0"),D=a("da13"),y=a("5d23"),T=a("34c3"),$=a("f6c4"),w=a("f774"),O=a("0fd9"),A=a("2fa4"),S=Object(m["a"])(u,l,c,!1,null,"29231cef",null),P=S.exports;p()(S,{VApp:f["a"],VAppBar:h["a"],VAppBarNavIcon:b["a"],VBtn:I["a"],VContainer:x["a"],VDivider:k["a"],VFooter:g["a"],VIcon:_["a"],VList:C["a"],VListGroup:V["a"],VListItem:D["a"],VListItemContent:y["a"],VListItemIcon:T["a"],VListItemTitle:y["b"],VMain:$["a"],VNavigationDrawer:w["a"],VRow:O["a"],VSpacer:A["a"]});var E=a("8c4f"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{attrs:{app:"",color:"primary"}}),a("v-card",{staticClass:"mx-auto mt-15 mb-0",attrs:{width:"600"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-card-title",[t._v("Ingreso al sistema")])],1),a("v-card-text",[a("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",placeholder:"email@ejemplo.com",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 5 characters",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v(" ingresar ")])],1)],1)],1)},j=[],R={data:function(){return{show1:!1,password:"Password",email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=5||"Min 5 characters"},emailMatch:function(){return"The email and password you entered don't match"}}}},methods:{login:function(){var t=this;s.a.post("/usuario/login",{email:this.email,password:this.password}).then((function(e){t.$store.dispatch("setToken",e.data.token),t.$store.dispatch("setRol",e.data.usuario.rol),console.log(t.$store.state.rol),t.$router.push("/")})).catch((function(t){console.error(t),alert(t.response.data.msg)}))}}},L=R,M=a("b0af"),U=a("99d9"),q=a("8654"),B=a("71d9"),F=Object(m["a"])(L,N,j,!1,null,null,null),K=F.exports;p()(F,{VAppBar:h["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VTextField:q["a"],VToolbar:B["a"]});var H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",{staticClass:"display-4 primary--text"},[t._v("WELCOME!")])])}],G={data:function(){return{drawer:null,items:[{title:"Home",icon:"mdi-view-dashboard"},{title:"About",icon:"mdi-forum"}]}},methods:{}},W=G,z=(a("cb7c"),Object(m["a"])(W,H,J,!1,null,"1fafd91e",null)),Q=z.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("articulos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nuevo Artículo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"10",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Codigo"},model:{value:t.editedItem.codigo,callback:function(e){t.$set(t.editedItem,"codigo",e)},expression:"editedItem.codigo"}})],1),a("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[a("v-autocomplete",{ref:"categorias",attrs:{items:t.categorias,"item-text":"nombre","item-value":"_id",label:"Categoria",placeholder:"Select...",required:""},model:{value:t.editedItem.categoria,callback:function(e){t.$set(t.editedItem,"categoria",e)},expression:"editedItem.categoria"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Stock",type:"number"},model:{value:t.editedItem.stock,callback:function(e){t.$set(t.editedItem,"stock",e)},expression:"editedItem.stock"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"precio",type:"number",prefix:"$"},model:{value:t.editedItem.precioVenta,callback:function(e){t.$set(t.editedItem,"precioVenta",e)},expression:"editedItem.precioVenta"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"descripcion"},model:{value:t.editedItem.descripcion,callback:function(e){t.$set(t.editedItem,"descripcion",e)},expression:"editedItem.descripcion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Artículo?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar Artículo?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarArticulos}},[t._v(" Reset ")])]},proxy:!0}])})},Y=[],Z=a("5530"),tt={data:function(){return{articulos:[],categorias:[],dialog:!1,dialogDelete:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Codigo",value:"codigo"},{text:"Categoria",value:"categoria.nombre"},{text:"Nombre",value:"nombre"},{text:"Stock",value:"stock"},{text:"Precioventa",value:"precioVenta"},{text:"Descripcion",value:"descripcion"}],editedIndex:-1,editedItem:{codigo:"",categoria:"",nombre:"",stock:"",precioVenta:"",descripcion:""},defaultItem:{codigo:"",categoria:"",nombre:"",stock:"",precioVenta:"",descripcion:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Artículo":"Editar Artículo"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarArticulos(),this.listarCategorias()},methods:{listarArticulos:function(){var t=this,e=this.$store.state.token;s.a.get("/articulo",{headers:{token:e}}).then((function(e){t.articulos=e.data.articulo})).catch((function(t){console.log(t)}))},listarCategorias:function(){var t=this,e=this.$store.state.token;s.a.get("/categoria",{headers:{token:e}}).then((function(e){t.categorias=e.data.categoria})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.$store.state.token;s.a.put("/articulo/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarArticulos()})).catch((function(t){console.log(t)}))}else{var a=this.$store.state.token;s.a.post("/articulo",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarArticulos()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.articulos.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.articulos.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/articulo/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarArticulos()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/articulo/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarArticulos()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},et=tt,at=a("c6a6"),ot=a("62ad"),it=a("8fea"),st=a("169a"),nt=a("2a7f"),rt=Object(m["a"])(et,X,Y,!1,null,null,null),lt=rt.exports;p()(rt,{VAutocomplete:at["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Categorias")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nueva categoría ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Descripcion"},model:{value:t.editedItem.descripcion,callback:function(e){t.$set(t.editedItem,"descripcion",e)},expression:"editedItem.descripcion"}})],1),-1===t.editedIndex?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Estado"},model:{value:t.editedItem.estado,callback:function(e){t.$set(t.editedItem,"estado",e)},expression:"editedItem.estado"}})],1):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Categoria?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar Categoria?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarCategorias}},[t._v(" Reset ")])]},proxy:!0}])})},dt=[],ut={data:function(){return{categorias:[],dialog:!1,dialogDelete:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Descripcion",value:"descripcion"},{text:"Estado",value:"estado"}],editedIndex:-1,editedItem:{nombre:"",descripcion:"",estado:""},defaultItem:{nombre:"",descripcion:"",estado:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Categoria":"Editar Categoria"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarCategorias()},methods:{listarCategorias:function(){var t=this,e=this.$store.state.token;s.a.get("/categoria",{headers:{token:e}}).then((function(e){t.categorias=e.data.categoria})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.$store.state.token;s.a.put("/categoria/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarCategorias()})).catch((function(t){console.log(t)}))}else{var a=this.$store.state.token;s.a.post("/categoria",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarCategorias()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.categorias.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.categorias.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/categoria/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarCategorias()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/categoria/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarCategorias()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},mt=ut,vt=Object(m["a"])(mt,ct,dt,!1,null,null,null),pt=vt.exports;p()(vt,{VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.compras},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"100%"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nuevo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[a("v-autocomplete",{ref:"rol",attrs:{items:t.tipoComprobante,label:"Tipo Comprobante",placeholder:"Tipo Comprobante",required:""},model:{value:t.editedItem.tipoComprobante,callback:function(e){t.$set(t.editedItem,"tipoComprobante",e)},expression:"editedItem.tipoComprobante"}})],1),a("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[a("v-text-field",{attrs:{label:"Serie Comprobante",type:"number"},model:{value:t.editedItem.serieComprobante,callback:function(e){t.$set(t.editedItem,"serieComprobante",e)},expression:"editedItem.serieComprobante"}})],1),a("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[a("v-text-field",{attrs:{label:"Número Comprobante",type:"number"},model:{value:t.editedItem.numeroComprobante,callback:function(e){t.$set(t.editedItem,"numeroComprobante",e)},expression:"editedItem.numeroComprobante"}})],1),a("v-col",{attrs:{cols:"8",sm:"8",md:"8"}},[a("v-autocomplete",{ref:"rol",attrs:{items:t.clientes,"item-text":"nombre","item-value":"_id",label:"Clientes",placeholder:"Clientes",required:""},model:{value:t.editedItem.persona,callback:function(e){t.$set(t.editedItem,"persona",e)},expression:"editedItem.persona"}})],1),a("v-col",{attrs:{cols:"4",sm:"4",md:"4"}},[a("v-text-field",{attrs:{label:"Impuesto",type:"number"},model:{value:t.editedItem.impuesto,callback:function(e){t.$set(t.editedItem,"impuesto",e)},expression:"editedItem.impuesto"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-autocomplete",{ref:"rol",attrs:{items:t.articulos,"item-text":"nombre","item-value":"_id",label:"Articulos",placeholder:"Articulos",required:""},model:{value:t.editedItem.articulo,callback:function(e){t.$set(t.editedItem,"articulo",e)},expression:"editedItem.articulo"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar compra?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar compra?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarCompras}},[t._v(" Reset ")])]},proxy:!0}])})},ht=[],bt={data:function(){return{compras:[],articulos:[],clientes:[],tipoComprobante:["NOTA DEBITO","FACTURA","NOTA CREDITO"],dialog:!1,dialogDelete:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Usuario",value:"usuario.nombre"},{text:"Proveedor",value:"persona.nombre"},{text:"Tipo Comprobante",value:"tipoComprobante"},{text:"Serie Comprobante",value:"serieComprobante"},{text:"Numero Comprobante",value:"numeroComprobante"},{text:"Fecha",value:"createdAt"},{text:"Impuesto",value:"impuesto"},{text:"Total",value:"total"},{text:"Estado",value:"estado"}],editedIndex:-1,editedItem:{tipoComprobante:"",serieComprobante:"",numeroComprobante:"",proveedor:"",impuesto:"",detalles:[{_id:"",articulo:"",cantidad:"",precio:"",descuento:""}],total:""},defaultItem:{tipoComprobante:"",serieComprobante:"",numeroComprobante:"",proveedor:"",impuesto:"",detalles:[{_id:"",articulo:"",cantidad:"",precio:"",descuento:""}],total:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo":"Editar"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarCompras(),this.listarArticulos(),this.listarClientes()},methods:{listarCompras:function(){var t=this,e=this.$store.state.token;s.a.get("/compra",{headers:{token:e}}).then((function(e){console.log(e.data),t.compras=e.data.compra})).catch((function(t){console.log(t)}))},listarArticulos:function(){var t=this,e=this.$store.state.token;s.a.get("/articulo",{headers:{token:e}}).then((function(e){t.articulos=e.data.articulo})).catch((function(t){console.log(t)}))},listarClientes:function(){var t=this,e=this.$store.state.token;s.a.get("/persona/listClientes",{headers:{token:e}}).then((function(e){t.clientes=e.data.persona})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.$store.state.token;s.a.put("/compra/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarCompras()})).catch((function(t){console.log(t)}))}else{var a=this.$store.state.token;s.a.post("/compra",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarCompras()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.compras.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.compras.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/compra/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarCompras()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/compra/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarCompras()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},It=bt,xt=Object(m["a"])(It,ft,ht,!1,null,null,null),kt=xt.exports;p()(xt,{VAutocomplete:at["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.proveedores},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Proveedores")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nuevo Proveedor ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-autocomplete",{ref:"categorias",attrs:{items:t.tipoDocumento,label:"Tipo de documento",placeholder:"Select...",required:""},model:{value:t.editedItem.tipoDocumento,callback:function(e){t.$set(t.editedItem,"tipoDocumento",e)},expression:"editedItem.tipoDocumento"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Numero de documento",type:"text"},model:{value:t.editedItem.numDocumento,callback:function(e){t.$set(t.editedItem,"numDocumento",e)},expression:"editedItem.numDocumento"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Direccion",type:"text"},model:{value:t.editedItem.direccion,callback:function(e){t.$set(t.editedItem,"direccion",e)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Telefono",type:"tel"},model:{value:t.editedItem.telefono,callback:function(e){t.$set(t.editedItem,"telefono",e)},expression:"editedItem.telefono"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail",type:"email"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Persona?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar Persona?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarProveedores}},[t._v(" Reset ")])]},proxy:!0}])})},_t=[],Ct={data:function(){return{proveedores:[],tipoDocumento:["CC","NIT","PASAPORTE","CE"],dialog:!1,dialogDelete:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Tipo persona",value:"tipoPersona"},{text:"Tipo de documento",value:"tipoDocumento"},{text:"Numero de documento",value:"numDocumento"},{text:"Direccion",value:"direccion"},{text:"Telefono",value:"telefono"},{text:"E-mail",value:"email"},{text:"Estado",value:"estado"}],editedIndex:-1,editedItem:{nombre:"",tipoPersona:"",tipoDocumento:"",numDocumento:"",direccion:"",telefono:"",email:"",estado:""},defaultItem:{nombre:"",tipoPersona:"",tipoDocumento:"",numDocumento:"",direccion:"",telefono:"",email:"",estado:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Proveedor":"Editar Proveedor"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarProveedores()},methods:{listarProveedores:function(){var t=this,e=this.$store.state.token;s.a.get("/persona/listProveedores",{headers:{token:e}}).then((function(e){t.proveedores=e.data.persona})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.$store.state.token;s.a.put("/persona/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarProveedores()})).catch((function(t){console.log(t)}))}else{this.editedItem.tipoPersona="Proveedor";var a=this.$store.state.token;s.a.post("/persona",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarProveedores()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.proveedores.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.proveedores.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/persona/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarProveedores()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/persona/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarProveedores()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},Vt=Ct,Dt=Object(m["a"])(Vt,gt,_t,!1,null,null,null),yt=Dt.exports;p()(Dt,{VAutocomplete:at["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Ventas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nuevo ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-autocomplete",{ref:"rol",attrs:{items:t.roles,label:"Rol",placeholder:"Select rol",required:""},model:{value:t.editedItem.rol,callback:function(e){t.$set(t.editedItem,"rol",e)},expression:"editedItem.rol"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail",type:"email"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar venta?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar venta?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarVentas}},[t._v(" Reset ")])]},proxy:!0}])})},$t=[],wt={data:function(){return{ventas:[],roles:["ADMIN_ROL","VENDEDOR_ROL","ALMACENISTA_ROL"],dialog:!1,dialogDelete:!1,password:"",headers:[{text:"Actions",value:"actions",sortable:!1},{text:"usuario",value:"usuario.nombre"},{text:"cliente",value:"persona.nombre"},{text:"Tipo Comprobante",value:"tipoComprobante"},{text:"serie Comprobante",value:"serieComprobante"},{text:"numero Comprobante",value:"numeroComprobante"},{text:"Fecha",value:"createdAt"},{text:"impuesto",value:"impuesto"},{text:"total",value:"total"},{text:"estado",value:"estado"}],editedIndex:-1,editedItem:{nombre:"",email:"",rol:"",password:""},defaultItem:{nombre:"",email:"",rol:"",password:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo":"Editar"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarVentas()},methods:{listarVentas:function(){var t=this,e=this.$store.state.token;s.a.get("/venta",{headers:{token:e}}).then((function(e){console.log(e.data),t.ventas=e.data.venta})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.$store.state.token;s.a.put("/venta/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarVentas()})).catch((function(t){console.log(t)}))}else{var a=this.$store.state.token;s.a.post("/venta",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarVentas()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.ventas.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.ventas.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/venta/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarVentas()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/venta/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarVentas()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},Ot=wt,At=Object(m["a"])(Ot,Tt,$t,!1,null,null,null),St=At.exports;p()(At,{VAutocomplete:at["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]});var Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.clientes},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nuevo Cliente ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-autocomplete",{ref:"categorias",attrs:{items:t.tipoDocumento,label:"Tipo de documento",placeholder:"Select...",required:""},model:{value:t.editedItem.tipoDocumento,callback:function(e){t.$set(t.editedItem,"tipoDocumento",e)},expression:"editedItem.tipoDocumento"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Numero de documento",type:"text"},model:{value:t.editedItem.numDocumento,callback:function(e){t.$set(t.editedItem,"numDocumento",e)},expression:"editedItem.numDocumento"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Direccion",type:"text"},model:{value:t.editedItem.direccion,callback:function(e){t.$set(t.editedItem,"direccion",e)},expression:"editedItem.direccion"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Telefono",type:"tel"},model:{value:t.editedItem.telefono,callback:function(e){t.$set(t.editedItem,"telefono",e)},expression:"editedItem.telefono"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail",type:"email"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Persona?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar Persona?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarClientes}},[t._v(" Reset ")])]},proxy:!0}])})},Et=[],Nt={data:function(){return{clientes:[],tipoDocumento:["CC","NIT","PASAPORTE","CE"],dialog:!1,dialogDelete:!1,headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Tipo persona",value:"tipoPersona"},{text:"Tipo de documento",value:"tipoDocumento"},{text:"Numero de documento",value:"numDocumento"},{text:"Direccion",value:"direccion"},{text:"Telefono",value:"telefono"},{text:"E-mail",value:"email"},{text:"Estado",value:"estado"}],editedIndex:-1,editedItem:{nombre:"",tipoPersona:"",tipoDocumento:"",numDocumento:"",direccion:"",telefono:"",email:"",estado:""},defaultItem:{nombre:"",tipoPersona:"",tipoDocumento:"",numDocumento:"",direccion:"",telefono:"",email:"",estado:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Cliente":"Editar Cliente"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarClientes()},methods:{listarClientes:function(){var t=this,e=this.$store.state.token;s.a.get("/persona/listClientes",{headers:{token:e}}).then((function(e){t.clientes=e.data.persona})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.$store.state.token;s.a.put("/persona/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarClientes()})).catch((function(t){console.log(t)}))}else{this.editedItem.tipoPersona="Cliente";var a=this.$store.state.token;s.a.post("/persona",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarClientes()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.clientes.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.clientes.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/persona/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarClientes()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/persona/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarClientes()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},jt=Nt,Rt=Object(m["a"])(jt,Pt,Et,!1,null,null,null),Lt=Rt.exports;p()(Rt,{VAutocomplete:at["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),o),[t._v(" Nuevo Usuario ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.editedItem.nombre,callback:function(e){t.$set(t.editedItem,"nombre",e)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-autocomplete",{ref:"rol",attrs:{items:t.roles,label:"Rol",placeholder:"Select rol",required:""},model:{value:t.editedItem.rol,callback:function(e){t.$set(t.editedItem,"rol",e)},expression:"editedItem.rol"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail",type:"email"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[1==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Desactivar Usuario?")]):t._e(),0==t.editedItem.estado?a("v-card-title",{staticClass:"headline"},[t._v("Activar Usuario?")]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(o)}}},[t._v(" mdi-pencil ")]),1==o.estado?a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle ")]):t._e(),0==o.estado?a("v-icon",{attrs:{small:"",color:"brown"},on:{click:function(e){return t.deleteItem(o)}}},[t._v(" mdi-minus-circle-off ")]):t._e()]}},{key:"item.estado",fn:function(e){var o=e.item;return[1==o.estado?a("span",{staticClass:"blue--text"},[t._v(" Activo ")]):a("span",{staticClass:"red--text"},[t._v(" Inactivo ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarUsuarios}},[t._v(" Reset ")])]},proxy:!0}])})},Ut=[],qt={data:function(){return{usuarios:[],roles:["ADMIN_ROL","VENDEDOR_ROL","ALMACENISTA_ROL"],dialog:!1,dialogDelete:!1,password:"",headers:[{text:"Actions",value:"actions",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Rol",value:"rol"},{text:"E-mail",value:"email"},{text:"Estado",value:"estado"}],editedIndex:-1,editedItem:{nombre:"",email:"",rol:"",password:""},defaultItem:{nombre:"",email:"",rol:"",password:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Usuario":"Editar Usuario"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.listarUsuarios()},methods:{listarUsuarios:function(){var t=this,e=this.$store.state.token;s.a.get("/usuario",{headers:{token:e}}).then((function(e){console.log(e.data),t.usuarios=e.data.usuario})).catch((function(t){console.log(t)}))},save:function(){var t=this;if(this.editedIndex>-1){this.password&&(this.editedItem.password=this.password);var e=this.$store.state.token;s.a.put("/usuario/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarUsuarios()})).catch((function(t){console.log(t)}))}else{var a=this.$store.state.token;this.editedItem.password=this.password,s.a.post("/usuario",this.editedItem,{headers:{token:a}}).then((function(e){console.log(e.data),t.listarUsuarios()})).catch((function(t){console.log(t)}))}this.close()},editItem:function(t){this.editedIndex=this.usuarios.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.usuarios.indexOf(t),this.editedItem=Object(Z["a"])({},t),this.dialogDelete=!0},deleteItemConfirm:function(){0==this.editedItem.estado?this.activateItem():this.deactivateItem(),this.closeDelete()},activateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/usuario/activar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarUsuarios()})).catch((function(t){console.log(t)}))},deactivateItem:function(){var t=this,e=this.$store.state.token;s.a.put("/usuario/desactivar/".concat(this.editedItem._id),this.editedItem,{headers:{token:e}}).then((function(e){console.log(e.data),t.listarUsuarios()})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object(Z["a"])({},t.defaultItem),t.editedIndex=-1}))}}},Bt=qt,Ft=Object(m["a"])(Bt,Mt,Ut,!1,null,null,null),Kt=Ft.exports;p()(Ft,{VAutocomplete:at["a"],VBtn:I["a"],VCard:M["a"],VCardActions:U["a"],VCardText:U["b"],VCardTitle:U["c"],VCol:ot["a"],VContainer:x["a"],VDataTable:it["a"],VDialog:st["a"],VDivider:k["a"],VIcon:_["a"],VRow:O["a"],VSpacer:A["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:nt["a"]}),o["a"].use(E["a"]);var Ht=[{path:"/login",name:"Login",component:K},{path:"/",name:"Home",component:Q},{path:"/articulos",name:"Articulos",component:lt},{path:"/categorias",name:"Categorias",component:pt},{path:"/ingresos",name:"Ingresos",component:kt},{path:"/proveedores",name:"Proveedores",component:yt},{path:"/ventas",name:"Ventas",component:St},{path:"/clientes",name:"Clientes",component:Lt},{path:"/usuarios",name:"Usuarios",component:Kt}],Jt=new E["a"]({mode:"history",base:"/",routes:Ht}),Gt=Jt,Wt=a("2f62"),zt=a("0e44");o["a"].use(Wt["a"]);var Qt=new Wt["a"].Store({plugins:[Object(zt["a"])({storage:window.sessionStorage})],state:{token:"",rol:""},mutations:{setToken:function(t,e){t.token=e},setRol:function(t,e){t.rol=e}},actions:{setToken:function(t,e){t.commit("setToken",e)},setRol:function(t,e){t.commit("setRol",e)}},getters:{},modules:{}}),Xt=a("f309");o["a"].use(Xt["a"]);var Yt=new Xt["a"]({});o["a"].config.productionTip=!1,s.a.defaults.baseURL="/api",new o["a"]({router:Gt,store:Qt,vuetify:Yt,render:function(t){return t(P)}}).$mount("#app"),o["a"].use(r.a,s.a)},7749:function(t,e,a){"use strict";a("3d1b")},cb7c:function(t,e,a){"use strict";a("e972")},e972:function(t,e,a){}});
//# sourceMappingURL=app.e9dc9f7c.js.map